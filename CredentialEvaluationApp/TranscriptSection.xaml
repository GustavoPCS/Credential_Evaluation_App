<UserControl x:Class="CredentialEvaluationApp.TranscriptSection"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:CredentialEvaluationApp"
             Height="Auto" Width="700"
             >
    <UserControl.Resources>
        <DataTemplate x:Key="DeleteButtonTemplate">
            <Button Content="Delete"
                Click="DeleteCourse_Click"
                Tag="{Binding}"
                FontSize="8"
                Padding="4,0"
                MaxHeight="10"
                HorizontalAlignment="Center"
                Background="#E57373" 
                Foreground="White"/>
        </DataTemplate>
    </UserControl.Resources>


    <Border CornerRadius="10"
            HorizontalAlignment="Center"
            Background="White"
            Width="700"
            Margin="0,0,0,20">

        <StackPanel Orientation="Vertical"
                    Width="700"
                    Height="Auto">
            <StackPanel Orientation="Horizontal" Margin="15,15,0,0" HorizontalAlignment="Left">
                <TextBox Text="{Binding TranscriptTitle, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                         x:Name= "TranscriptTitleTextBox"
                         Margin="0,0,0,0"
                         FontFamily="pack://application:,,,/Fonts/#Quicksand"
                         FontWeight="SemiBold"
                         FontSize="15"
                         Background="Transparent"
                         BorderThickness="0"
                         Padding="0"
                         IsReadOnly="False"
                         Focusable="True"
                         Cursor="IBeam"/>
                <Button x:Name="DeleteButton"
                        Content="Delete"
                        Click="DeleteTranscript_Click"
                        FontSize="10"
                        Padding="0"
                        Margin="10,0,0,0"
                        Background="Transparent"
                        BorderThickness="0"
                        Foreground="Crimson"
                        Cursor="Hand"
                        VerticalAlignment="Center"
                        FontFamily="pack://application:,,,/Fonts/#Quicksand"
                        FontWeight="Regular"
                        Visibility="Visible"/>

            </StackPanel>

            <!-- Country Field -->
            <TextBlock Text="Country"
                       Margin="15,15,0,5"
                       FontFamily="pack://application:,,,/Fonts/#Quicksand"
                       FontWeight="Regular"
                       FontSize="11"/>
            <ComboBox x:Name="countryComboBox"
                      Width="150"
                      Height="22"
                      Margin="15,0,0,0"
                      FontSize="11"
                      FontFamily="pack://application:,,,/Fonts/#Quicksand"
                      IsEditable="True"
                      IsTextSearchEnabled="True"
                      StaysOpenOnEdit="True"
                      HorizontalAlignment="Left"
                      SelectionChanged="countryComboBox_SelectionChanged"/>

            <!-- Grading Scale Field -->
            <TextBlock Text="Grading Scale"
                       Margin="15,15,0,5"
                       FontFamily="pack://application:,,,/Fonts/#Quicksand"
                       FontWeight="Regular"
                       FontSize="11"/>
            <ComboBox x:Name="gradingScaleComboBox"
                      Width="150"
                      Height="22"
                      Margin="15,0,0,0"
                      FontSize="11"
                      FontFamily="pack://application:,,,/Fonts/#Quicksand"
                      IsEditable="True"
                      IsTextSearchEnabled="True"
                      StaysOpenOnEdit="True"
                      HorizontalAlignment="Left"
                      SelectionChanged="gradingScaleComboBox_SelectionChanged"/>

            <!-- Transcript Table Section -->
            <StackPanel Orientation="Horizontal" Margin="15,15,0,0" HorizontalAlignment="Left" Width="330">
                <TextBlock Text="Transcript Courses"
                           FontFamily="pack://application:,,,/Fonts/#Quicksand"
                           FontWeight="Regular"
                           FontSize="11"
                           Margin="0,0,0,1.5"
                           VerticalAlignment="Center"/>
                <Button x:Name="EditToggleButton"
                        Content="Edit"
                        Click="ToggleEditMode_Click"
                        FontSize="10"
                        Padding="0"
                        Margin="10,0,0,0"
                        Background="Transparent"
                        BorderThickness="0"
                        Foreground="Purple"
                        Cursor="Hand"
                        VerticalAlignment="Center"
                        FontFamily="pack://application:,,,/Fonts/#Quicksand"
                        FontWeight="Regular"/>
            </StackPanel>

            <!-- Transcript DataGrid -->
            <DataGrid x:Name="transcriptDataGrid"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      Margin="15,0,0,10"
                      ItemsSource="{Binding TranscriptCourses}"
                      SelectionMode="Single"
                      SelectionUnit="Cell"
                      IsReadOnly="False"
                      FontSize="10"
                      HorizontalAlignment="Left"
                      RowHeight="30"
                      Style="{StaticResource MaterialDesignDataGrid}"
                      RowStyle="{StaticResource MaterialDesignDataGridRow}">

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Course" Binding="{Binding CourseName}" Width="130"/>

                    <DataGridTemplateColumn Header="Grade" Width="100">
                        <DataGridTemplateColumn.CellStyle>
                            <Style TargetType="DataGridCell" BasedOn="{StaticResource MaterialDesignDataGridCell}">
                                <EventSetter Event="PreviewMouseLeftButtonDown" Handler="DataGridCell_PreviewMouseLeftButtonDown"/>
                            </Style>
                        </DataGridTemplateColumn.CellStyle>
                        <DataGridTemplateColumn.CellEditingTemplate>
                            <DataTemplate>
                                <ComboBox ItemsSource="{Binding DataContext.AvailableGrades, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                          SelectedItem="{Binding Grade, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellEditingTemplate>
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Grade}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>

                    <DataGridTextColumn Header="Credit Hours" Binding="{Binding CreditHours}" Width="100"/>
                </DataGrid.Columns>
            </DataGrid>

            <!-- First Name Field -->
            <StackPanel Orientation="Horizontal"
                        HorizontalAlignment="Left"
                        Margin="15,15,0,10">

                <TextBlock Text="Multiplier :"
                           Margin="0,5,10,0"
                           FontFamily="pack://application:,,,/Fonts/#Quicksand"
                           FontWeight="Regular"
                           FontSize="11"/>
                <TextBox x:Name="MultiplierTextBox"
                         Width="40"
                         Height="25"
                         Margin="0,0,0,0"
                         FontSize="11"
                         FontFamily="pack://application:,,,/Fonts/#Quicksand"
                         Background="#F0F0F0"
                         BorderBrush="#CCCCCC"
                         BorderThickness="1"
                         HorizontalAlignment="Left"/>
            </StackPanel>

            <!-- Add Course Button -->
            <Button Content="Add Course"
                    Width="95"
                    Height="20"
                    Margin="0,0,0,20"
                    FontFamily="pack://application:,,,/Fonts/#Quicksand"
                    FontSize="11"
                    FontWeight="Regular"
                    Background="#CCCCCC"
                    Foreground="Black"
                    BorderThickness="0"
                    HorizontalAlignment="Center"
                    Cursor="Hand"
                    Click="AddCourse_Click">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="7"/>
                    </Style>
                </Button.Resources>
            </Button>
        </StackPanel>
    </Border>
</UserControl>

